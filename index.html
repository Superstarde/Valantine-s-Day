<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>For My Valentine ‚ù§Ô∏è</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
body{
    font-family:'Poppins',sans-serif;
    background:#000;
    margin:0;
    height:100vh;
    overflow:hidden;
    color:#fce7f3;
}
.font-dancing{font-family:'Dancing Script',cursive;}
.font-playfair{font-family:'Playfair Display',serif;}

.section{
    display:none;
    position:fixed;
    inset:0;
    width:100vw;
    height:100vh;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    opacity:0;
    transition:opacity .8s ease;
    overflow:hidden;
}
.section.active{
    display:flex;
    opacity:1;
}

/* BACKGROUNDS */
.bg-intro{background:radial-gradient(circle,#2a0a18,#000);}
.bg-wish{background:linear-gradient(135deg,#ff9a9e,#fecfef);color:#b4235a;}
.bg-photos{background:linear-gradient(to bottom,#2c0e18,#5a192c);}
.bg-letter{background:linear-gradient(135deg,#667eea,#764ba2);}

/* CAROUSEL */
.carousel-container{
    position:relative;
    width:100%;
    height:52vh;
    display:flex;
    justify-content:center;
    align-items:center;
    perspective:1000px;
}
.carousel-item{
    position:absolute;
    width:65vw;
    max-width:300px;
    height:42vh;
    max-height:420px;
    border-radius:16px;
    overflow:hidden;
    background:#fff;
    border:3px solid #ec4899;
    box-shadow:0 0 18px #ec4899;
    cursor:pointer;
}
.carousel-item img{
    width:100%;
    height:100%;
    object-fit:cover;
}

/* NAV BUTTONS */
.nav-btn{
    position:absolute;
    top:50%;
    transform:translateY(-50%);
    background:rgba(236,72,153,.85);
    color:#fff;
    border:none;
    width:42px;
    height:42px;
    border-radius:50%;
    font-size:1.2rem;
    z-index:30;
}

/* LETTER */
.envelope-wrapper{
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
}
.envelope{
    width:85vw;
    max-width:320px;
    height:200px;
    background:#be123c;
    position:relative;
}
.envelope-flap{
    position:absolute;
    width:0;height:0;
    border-left:160px solid transparent;
    border-right:160px solid transparent;
    border-top:130px solid #e11d48;
    top:0;
    left:0;
    transform-origin:top;
}
.envelope-pocket{
    position:absolute;
    width:0;height:0;
    border-left:160px solid transparent;
    border-right:160px solid transparent;
    border-bottom:140px solid #fb7185;
    bottom:0;
    left:0;
}
.letter-content{
    position:absolute;
    bottom:10px;
    width:92vw;
    max-width:600px;
    height:70vh;
    background:#fffdf7;
    padding:18px;
    border-radius:6px;
    overflow-y:auto;
    opacity:0;
    transform:scale(.9);
    scrollbar-width:none;
}
.letter-content::-webkit-scrollbar{display:none;}

@media(max-width:480px){
    .letter-content{font-size:14px;padding:16px;}
}
</style>
</head>

<body>

<audio id="bgMusic" loop>
    <source src="love_song.mp3" type="audio/mpeg">
</audio>

<!-- SCREEN 1 -->
<div id="screen-1" class="section active bg-intro">
    <h1 class="text-6xl font-dancing text-pink-500 mb-6 text-center">For Amna‚Ä¶</h1>
    <p class="text-pink-200 mb-10">I have a surprise for you</p>
    <button onclick="startJourney()" class="px-10 py-4 bg-pink-600 rounded-full text-white font-bold text-xl animate-bounce">
        Tap to Open ‚ù§Ô∏è
    </button>
</div>

<!-- SCREEN 2 -->
<div id="screen-2" class="section bg-wish text-center px-4">
    <h1 id="wish-title" class="text-6xl font-dancing scale-0">Happy Valentine‚Äôs Day üåπ</h1>
    <p id="wish-sub" class="mt-4 opacity-0">You make my life beautiful.</p>
    <button id="wish-btn" onclick="nextSection(3)" class="mt-10 px-8 py-3 bg-white text-pink-600 rounded-full opacity-0">
        See Our Memories ‚û°Ô∏è
    </button>
</div>

<!-- SCREEN 3 -->
<div id="screen-3" class="section bg-photos">
    <h2 class="absolute top-6 text-3xl font-dancing text-pink-300">Our Moments</h2>

    <div class="carousel-container">
        <button class="nav-btn left-3" onclick="moveSlide(-1)">‚ùÆ</button>
        <div id="track"></div>
        <button class="nav-btn right-3" onclick="moveSlide(1)">‚ùØ</button>
    </div>

    <!-- FIXED CAPTION -->
    <div class="absolute bottom-16 md:bottom-20 w-full text-center px-4">
        <p id="caption" class="font-playfair text-lg text-pink-200 italic"></p>
    </div>

    <!-- FIXED BUTTON POSITION -->
    <button onclick="nextSection(4)"
    class="absolute bottom-24 md:bottom-10 px-6 py-3 bg-pink-900/50 border border-pink-400 rounded-full text-pink-100">
        One Last Thing‚Ä¶ ‚Üì
    </button>
</div>

<!-- SCREEN 4 -->
<div id="screen-4" class="section bg-letter">
    <div class="envelope-wrapper">
        <div class="envelope" id="envelope">
            <div class="envelope-flap" id="flap"></div>
            <div class="envelope-pocket" id="pocket"></div>

            <div class="letter-content" id="letter">
                <h2 class="text-2xl font-dancing text-center text-rose-600 mb-4">
                    Meri Shayaari, Meri Amna‚Ä¶
                </h2>

                <p class="italic text-center text-rose-500 mb-4">
                    ‚ÄúMohabbat har baar hoti hai jab main aapko dekhta hoon.‚Äù
                </p>

                <p class="font-playfair text-gray-800 leading-relaxed">
                    Amna, aap mere sukoon ho‚Ä¶ meri har dua ka jawab.
                    Vaada hai ‚Äî bheed mein kabhi aapka haath nahi chhodunga.
                </p>

                <p class="text-center font-dancing text-rose-600 mt-6 text-xl">
                    Happy Valentine‚Äôs Day ‚ù§Ô∏è
                </p>
            </div>
        </div>
    </div>
</div>

<script>
const slides=[
{img:"pic1.png",caption:"I love you more than words üíñ"},
{img:"pic2.jpg",caption:"Your smile is my strength ‚ú®"},
{img:"pic3.jpg",caption:"Forever starts with us ‚ù§Ô∏è"}
];
let currentSlide=0;

function startJourney(){
document.getElementById('bgMusic').play().catch(()=>{});
nextSection(2);
setTimeout(()=>{
gsap.to("#wish-title",{scale:1,duration:1});
gsap.to("#wish-sub",{opacity:1,delay:.4});
gsap.to("#wish-btn",{opacity:1,delay:1});
},300);
}

function nextSection(n){
document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
document.getElementById(`screen-${n}`).classList.add('active');
if(n===3)renderCarousel();
if(n===4)openLetter();
}

function renderCarousel(){
const track=document.getElementById('track');
track.innerHTML='';
slides.forEach((s,i)=>{
const d=document.createElement('div');
d.className='carousel-item';
const img=document.createElement('img');
img.src=s.img;
d.appendChild(img);
d.onclick=()=>moveSlide(i-currentSlide);
track.appendChild(d);
});
updateCarousel();
}

function moveSlide(d){
currentSlide=(currentSlide+d+slides.length)%slides.length;
updateCarousel();
}

function updateCarousel(){
const items=document.querySelectorAll('.carousel-item');
items.forEach((el,i)=>{
const o=i-currentSlide;
if(o===0){
el.style.transform="translateX(0) scale(1)";
el.style.zIndex=10;
el.style.opacity=1;
}else{
el.style.transform=`translateX(${o*160}px) scale(.8)`;
el.style.zIndex=5;
el.style.opacity=.5;
}
});
document.getElementById('caption').textContent=slides[currentSlide].caption;
}

function openLetter(){
gsap.timeline()
.to("#flap",{rotateX:180,duration:1})
.to("#letter",{opacity:1,scale:1,y:0,duration:1.2,ease:"power3.out"});
}
</script>

</body>
</html>
